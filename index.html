<!DOCTYPE html>
<html>
<body>
<div id="map" />
<div id="form">
<p>Click the button to get your coordinates.</p>
Address: <input type="text" id="address" name="address" value="">

   <br><br>or<br><br>  

Latitude:<input type="text" id="lat" name="lat" value="">
Longitude: <input type="text" id="lon" name"lon" value="">
 
<button onclick="getLocation()" >
<image src="http://discoveringthebluemountains.com/assets/themes/default/images/geolocation.png"
width="15px" height="15px"></button><br>

Radius:<input type="text" size="1" id="radius"> miles<br>

<input type="checkbox" id="all" onclick="clickall()" clicked="true"> all<br>
<input type="checkbox" id="nuisance"> nuisance<br>
<input type="checkbox" id="crime"> crime <br>
<input type="checkbox" id="potato"> potato <br>


<button onclick="submit()">search </button> 
</div>
  <p id="x"></p>

  
<script type= "text/javascript" src="http://maps.google.com/maps/api/js?sensor=false">
var x = document.getElementById("x");
var address = document.getElementById("address");
var lat = document.getElementById("lat");
var lon = document.getElementById("lon");

function getLocation() {
  if (navigator.geolocation) {
    navigator.geolocation.getCurrentPosition(showPosition);
  } else {
    x.innerHTML = "Geolocation is not supported by this browser.";
  }
}

function showPosition(position) {
  lat.value = position.coords.latitude;
  lon.value = position.coords.longitude;

}

/*

This ensures that checkboxes reaction to "all":

When "All" checkbox has checkmark, 
then all categories have checkmarks


*/
function clickall() {
  if (document.getElementById("all").checked == true) {
    document.getElementById("nuisance").checked = true;

  } else
    document.getElementById("nuisance").checked = false;
}

//does not work yet
function submit() {

  //if address has something in it go find the coordinates
  if (address.value != "") {
    addressLatLon(address.value);

  };
}

//tries to find the LatLon of the address
function getAddressLatLon(addressValue) {
  x.innerHTML="you typed this "+addressValue;
  
  /*
  var geocoder = new google.maps.Geocoder();
  var address = addressValue;

  geocoder.geocode({
    'address': address
  }, function(results, status) {

    if (status == google.maps.GeocoderStatus.OK) {
      lat.value = results[0].geometry.location.lat();
      lon.value = results[0].geometry.location.lng();
      alert(latitude);
    }
  });
  */
}
</script>

</body>
</html>
